HDR_DIR = header /home/hrgat/mosek/8/tools/platform/linux64x86/h
HEADER = $(addprefix -I,$(HDR_DIR))
LIB_DIR = /home/hrgat/mosek/8/tools/platform/linux64x86/bin
LIB = $(addprefix -L, $(LIB_DIR))
LIB_NAMES = fusion64 mosek64
LIBRARY = $(addprefix -l,$(LIB_NAMES))
CCOPTION = std=c++11 O3 fmessage-length=0 pthread DOPTEPS=1e-5 Wl,-rpath-link,/home/hrgat/mosek/8/tools/ 'Wl,-rpath=/home/hrgat/mosek/8/tools/platform/linux64x86/bin'
FLAGS = $(addprefix -,$(CCOPTION))
CC = mpic++
OBJ_DIR = obj
OBJ = CombAndPerm.o Graph.o LowerBoundComputation.o Structures.o Subproblem.o bdl_master_dual_soc_rotated.o BoundComputationBundle.o Oracle_SS.o BoundComputationExactSubgraph.o bdl_dgr.o StableSetBaB.o BoundComputationTheta.o BoundComputationTrivial.o UpperBoundComputation.o 
BUILD_DIR = build
SRC_DIR = /home/hrgat/Projekti/StableSet_parallel_last/src

$(BUILD_DIR)/StableSetBab.out: $(addprefix $(OBJ_DIR)/,$(OBJ)) 
	 $(CC) $(FLAGS) $(addprefix $(OBJ_DIR)/,$(OBJ)) -o $(BUILD_DIR)/StableSetBab.out $(LIB) $(LIBRARY)

$(OBJ_DIR)/CombAndPerm.o: $(SRC_DIR)/CombAndPerm.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/CombAndPerm.cpp -o $(OBJ_DIR)/CombAndPerm.o $(HEADER)

$(OBJ_DIR)/Graph.o: $(SRC_DIR)/Graph.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/Graph.cpp -o $(OBJ_DIR)/Graph.o $(HEADER)

$(OBJ_DIR)/LowerBoundComputation.o: $(SRC_DIR)/LowerBoundComputation.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/LowerBoundComputation.cpp -o $(OBJ_DIR)/LowerBoundComputation.o $(HEADER)

$(OBJ_DIR)/Structures.o: $(SRC_DIR)/Structures.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/Structures.cpp -o $(OBJ_DIR)/Structures.o $(HEADER)

$(OBJ_DIR)/Subproblem.o: $(SRC_DIR)/Subproblem.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/Subproblem.cpp -o $(OBJ_DIR)/Subproblem.o $(HEADER)

$(OBJ_DIR)/bdl_master_dual_soc_rotated.o: $(SRC_DIR)/bdl_master_dual_soc_rotated.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/bdl_master_dual_soc_rotated.cpp -o $(OBJ_DIR)/bdl_master_dual_soc_rotated.o $(HEADER)

$(OBJ_DIR)/BoundComputationBundle.o: $(SRC_DIR)/BoundComputationBundle.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/BoundComputationBundle.cpp -o $(OBJ_DIR)/BoundComputationBundle.o $(HEADER)

$(OBJ_DIR)/Oracle_SS.o: $(SRC_DIR)/Oracle_SS.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/Oracle_SS.cpp -o $(OBJ_DIR)/Oracle_SS.o $(HEADER)

$(OBJ_DIR)/BoundComputationExactSubgraph.o: $(SRC_DIR)/BoundComputationExactSubgraph.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/BoundComputationExactSubgraph.cpp -o $(OBJ_DIR)/BoundComputationExactSubgraph.o $(HEADER)

$(OBJ_DIR)/bdl_dgr.o: $(SRC_DIR)/bdl_dgr.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/bdl_dgr.cpp -o $(OBJ_DIR)/bdl_dgr.o $(HEADER)

$(OBJ_DIR)/StableSetBaB.o: $(SRC_DIR)/StableSetBaB.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/StableSetBaB.cpp -o $(OBJ_DIR)/StableSetBaB.o $(HEADER)

$(OBJ_DIR)/BoundComputationTheta.o: $(SRC_DIR)/BoundComputationTheta.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/BoundComputationTheta.cpp -o $(OBJ_DIR)/BoundComputationTheta.o $(HEADER)

$(OBJ_DIR)/BoundComputationTrivial.o: $(SRC_DIR)/BoundComputationTrivial.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/BoundComputationTrivial.cpp -o $(OBJ_DIR)/BoundComputationTrivial.o $(HEADER)

$(OBJ_DIR)/UpperBoundComputation.o: $(SRC_DIR)/UpperBoundComputation.cpp 
	 $(CC) $(FLAGS) -c $(SRC_DIR)/UpperBoundComputation.cpp -o $(OBJ_DIR)/UpperBoundComputation.o $(HEADER)


clean: 
	rm $(OBJ_DIR)/*.o
	rm $(BUILD_DIR)/*.out
